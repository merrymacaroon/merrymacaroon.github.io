<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-148378003-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-148378003-1', {
        'anonymize_ip': true
      });
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="scripts/extraction.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/extraction.css">
    <link rel="icon" href="favicon.ico">
    <title>Coffee Extraction</title>
  </head>
  <body>
    <header>
      <a href="index.html"><img src="images/logo200x200.jpg" alt="logo"></a>
      <ul id="leftnav">
        <li><a href="index.html">Merry Macaroon</a></li>
      </ul>
      <ul id="rightnav">
        <li><a href="fancytext.html">Fancy Text Styles</a></li>
        <li><a href="coffee.html">Coffee Stuff</a></li>
      </ul>
    </header>

    <article class="flexContainer">
      <section id="chart" class="panel">
        <h1>Brew Control Chart</h1>
        <div class="canvasContainer">
          <canvas id="canvas"></canvas>
        </div>
        merrymacaroon.com
      </section>
      <section class="flexContainer panel" id="parameterContainer">
        <div class="tabRow flexContainer">
          <div class="tabs" id="planTab">
            Plan
          </div>
          <div class="tabs" id="calcTab">
            Measure
          </div>
        </div>
        <section class="tabContent">
          <section id="brewActual" class="panel">
            <h1>Measure Your Brew</h1>
            <section class="flexContainer">
              <div class="parameter" id="actualTDS">
                <span>TDS (%)</span><input type="number" name="TDS" value="1.35" step="0.05">
              </div>
              <div class="parameter" id="actualExtraction">
                <span>Extr (%)</span><input type="number" name="extraction" value="20">
              </div>
              <div class="parameter" id="actualCoffeeDose">
                <span>Coffee Dose (g)</span><input type="number" name="coffeeDose" value="15">
              </div>
              <div class="parameter" id="actualBrewWater">
                <span>Brew Water (g)</span><input type="number" name="brewWater" value="255">
              </div>
              <div class="parameter" id="actualLRR">
                <span>LRR</span><input type="number" name="LRR" value="2.1" step="0.1">
              </div>
              <div class="parameter" id="actualBev">
                <span>BevWt (g)</span><input type="number" name="bev">
              </div>
              <div class="parameter" id="actualSlurryTDS">
                <span>Slurry TDS (g)</span><input type="number" name="slurryTDS" value="0" step="0.05">
              </div>
            </section>
          </section>
          <section id="brewPlan" class="panel">
            <h1>Plan Your Brew</h1>
            <section class="flexContainer">
              <div class="parameter" id="TDS">
                <span>TDS (%)</span><input type="number" name="TDS" value="15" step="0.05">
              </div>
              <div class="parameter" id="extraction">
                <span>Extr (%)</span><input type="number" name="extraction" value="20">
              </div>
              <div class="parameter" id="coffeeDose">
                <span>Coffee Dose (g)</span><input type="number" name="coffeeDose" value="15">
              </div>
              <div class="parameter" id="brewWater">
                <span>Brew Water (g)</span><input type="number" name="brewWater" value="255">
              </div>
              <div class="parameter" id="LRR">
                <span>LRR</span><input type="number" name="LRR" value="2.1" step="0.1">
              </div>
              <div class="parameter" id="bev">
                <span>BevWt (g)</span><input type="number" name="bev" readonly>
              </div>
              <div id="saveButton">
                <button type="button" id="saveDefaults" name="saveDefaults">Save as Default</button>
              </div>
              <div id="resetButton">
                <button type="button" id="resetDefaults" name="resetDefaults">Reset Defaults</button>
              </div>
            </section>
          </section>
        </section>
      </section>
      <section class="panel" id="background">
        <h1>Background</h1>
        <h2>Plan mode</h2>
        <p>
          When planning a brew recipe, we usually think about the strength of
          the coffee and the flavors extracted from the coffee grounds. In the
          Brew Control Chart, TDS (Total Dissolved Solids) is a measure of the
          strength of coffee - the higher the TDS, the stronger the coffee.
          The Extraction indicates how much of the coffee grounds have been
          "drawn out" by the brew water - under-extracted coffee may taste more
          sour while over-extracted coffee may taste more bitter.
        </p>
        <p>
          Design your brew recipes by setting your desired TDS, extraction-level
          and coffee dose, and let the app calculate the required amount of brew
          water to use. This app uses the equations described by Jonathan Gagné
          on his wonderful website <a href="https://coffeeadastra.com/"
          target="_blank">coffeeadastra.com</a>
        </p>
        <p>
          As a start, try choosing a brew point (indicated by the green circle)
          inside the green box. You can tap on the Brew Control Chart to quickly
          set the brew point. The green box on the chart shows a general opinion
          of what is good tasting coffee. Choosing a point in the middle of the
          box gives more margin for error when brewing.
        </p>
        <p>
          The red line shows the brew ratio (brew water / coffee dose) so you
          can easily describe your brew recipe.
        </p>
        <h2>Measure mode</h2>
        <p>
          If you have access to a refractometer (which measures TDS), you can
          compare your actual brew (indicated by the blue circle) with your plan.
          The weight of your beverage is estimated from the brew water. If you
          can measure the actual beverage weight, the extraction calculation will
          be more accurate.
        </p>
        <p>
          For percolation brew methods (e.g. V60), the TDS of the slurry left
          after the brew is usually assumed to be 0. This is the default value
          used in our calculations (to be more consistent when comparing
          your extraction numbers with others).

          For an even more accuate extraction calculation, you can catch the
          last few drops of your brew in another container to take a separate
          (non-zero) Slurry TDS measurement.
        </p>
      </section>
    </article>

    <footer>
      <div id="contact">
        <a href="https://www.instagram.com/merrymacaroon/" target="_blank">
          <img src="images/instagram_glyph-logo_May2016.png" alt="instagram logo">
        </a>
        <a href="https://www.instagram.com/merrymacaroon/" target="_blank">
          Follow us on instagram
        </a>
      </div>
      <div class="flexContainer">
        <div id="copyright">
          Copyright © 2019 merrymacaroon.com All Rights Reserved.
        </div>
        <div id="privacy">
          <a href="privacy.html" target="_blank">Privacy Statement</a>
        </div>
      </div>
    </footer>

  </body>
</html>
